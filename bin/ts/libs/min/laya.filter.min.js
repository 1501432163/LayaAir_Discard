!function(t,e,i){var r=(i.un,i.uns,i["static"],i["class"]),a=i.getset,n=(i.__newvec,laya.display.Sprite,laya.filters.Filter),l=laya.webgl.resource.RenderTarget2D,s=laya.maths.Matrix,u=(laya.maths.Rectangle,laya.renders.RenderContext,laya.resource.Texture),c=laya.webgl.canvas.BlendMode,o=(laya.webgl.shader.d2.ShaderDefines2D,laya.webgl.shader.d2.value.Value2D),h=laya.utils.RunDriver,d=laya.webgl.submit.SubmitCMD,f=(laya.webgl.submit.SubmitCMDScope,laya.filters.webgl.FilterActionGL),_=laya.renders.Render,g=(laya.utils.Browser,laya.utils.Color),y=laya.filters.webgl.ColorFilterActionGL,b=laya.filters.ColorFilterAction,p=function(){function t(){this.data=null}r(t,"laya.filters.FilterAction");var e=t.prototype;return i.imps(e,{"laya.filters.IFilterAction":!0}),e.apply=function(t){return null},t}(),w=function(){function t(){}return r(t,"laya.filters.WebGLFilter"),t.enable=function(){t.isInit||(t.isInit=!0,_.isWebGL&&(h.createFilterAction=function(t){var e;switch(t){case 32:e=new y;break;case 16:e=new x;break;case 8:e=new v}return e}))},t.isInit=!1,t.__init$=function(){h.createFilterAction=function(t){var e;switch(t){case 16:e=new p;break;case 8:e=new p;break;case 32:e=new b}return e}},t}(),x=(function(t){function e(t){this.strength=NaN,e.__super.call(this),void 0===t&&(t=4),_.isWebGL&&w.enable(),this.strength=t,this._action=h.createFilterAction(16),this._action.data=this}r(e,"laya.filters.BlurFilter",t);var i=e.prototype;return a(0,i,"action",function(){return this._action}),a(0,i,"type",function(){return 16}),e}(n),function(t){function e(t,i,r,a){this._color=null,e.__super.call(this),this._elements=new Float32Array(9),void 0===i&&(i=4),void 0===r&&(r=6),void 0===a&&(a=6),_.isWebGL&&w.enable(),this._color=new g(t),this.blur=i,this.offX=r,this.offY=a,this._action=h.createFilterAction(8),this._action.data=this}r(e,"laya.filters.GlowFilter",t);var i=e.prototype;return i.getColor=function(){return this._color._color},a(0,i,"type",function(){return 8}),a(0,i,"action",function(){return this._action}),a(0,i,"offX",function(){return this._elements[5]},function(t){this._elements[5]=t}),a(0,i,"offY",function(){return this._elements[6]},function(t){this._elements[6]=t}),a(0,i,"blur",function(){return this._elements[4]},function(t){this._elements[4]=t}),e}(n),function(t){function e(){this.data,e.__super.call(this)}r(e,"laya.filters.webgl.BlurFilterActionGL",t);var i=e.prototype;return i.setValueMix=function(t){t.defines.add(this.data.type)},i.apply3d=function(t,e,i,r,a){var n=t.getValue("bounds"),l=o.create(1,0);l.setFilters([this.data]);var u=s.EMPTY;u.identity(),i.ctx.drawTarget(t,0,0,n.width,n.height,s.EMPTY,"src",l),l.setFilters(null)},i.setValue=function(t){t.strength=this.data.strength},a(0,i,"typeMix",function(){return 16}),e}(f)),v=function(t){function e(){this.data=null,this._initKey=!1,this._textureWidth=0,this._textureHeight=0,e.__super.call(this)}r(e,"laya.filters.webgl.GlowFilterActionGL",t);var n=e.prototype;return i.imps(n,{"laya.filters.IFilterActionGL":!0}),n.setValueMix=function(t){},n.apply3d=function(t,i,r,a,n){var l=t.getValue("bounds"),h=l.width,f=l.height;this._textureWidth=h,this._textureHeight=f;var _=d.create([t,i,r,0,0],e.tmpTarget);r.ctx.addRenderObject(_);var g,y=s.TEMP;return y.identity(),g=o.create(1,0),g.setFilters([this.data]),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"src",g,null,c.TOINT.overlay),_=d.create([t,i,r,0,0],e.startOut),r.ctx.addRenderObject(_),g=o.create(1,0),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"tmpTarget",g,u.INV_UV,c.TOINT.overlay),g=o.create(1,0),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"src",g),_=d.create([t,i,r,0,0],e.recycleTarget),r.ctx.addRenderObject(_),null},n.setSpriteWH=function(t){this._textureWidth=t.width,this._textureHeight=t.height},n.setValue=function(t){t.u_offsetX=this.data.offX,t.u_offsetY=-this.data.offY,t.u_strength=1,t.u_blurX=this.data.blur,t.u_blurY=this.data.blur,t.u_textW=this._textureWidth,t.u_textH=this._textureHeight,t.u_color=this.data.getColor()},a(0,n,"typeMix",function(){return 8}),e.tmpTarget=function(t,e,i,r,a){var n=t.getValue("bounds"),s=t.getValue("out");s.end();var u=l.create(n.width,n.height);u.start(),u.clear(0,0,0,0),t.addValue("tmpTarget",u)},e.startOut=function(t,e,i,r,a){var n=t.getValue("tmpTarget");n.end();var l=t.getValue("out");l.start(),l.clear(0,0,0,0)},e.recycleTarget=function(t,e,i,r,a){var n=(t.getValue("src"),t.getValue("tmpTarget"));n.recycle()},e}(f);i.__init([w])}(window,document,Laya);